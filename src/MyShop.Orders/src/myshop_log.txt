13:55 [Information] [] : Configuring web host ("MyShop.Orders")...
13:56 [Information] [] : RabbitMQ Client is trying to connect
13:56 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
13:56 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
16:52 [Information] [] : Configuring web host ("MyShop.Orders")...
16:53 [Information] [] : RabbitMQ Client is trying to connect
16:53 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
16:53 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
18:03 [Information] [] : Configuring web host ("MyShop.Orders")...
18:03 [Information] [] : RabbitMQ Client is trying to connect
18:03 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
18:03 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
18:15 [Information] [] : Configuring web host ("MyShop.Orders")...
18:15 [Information] [] : RabbitMQ Client is trying to connect
18:15 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
18:15 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
18:31 [Information] [] : Configuring web host ("MyShop.Orders")...
18:31 [Information] [] : RabbitMQ Client is trying to connect
18:31 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
18:31 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "IIntegrationEventHandler<UserCheckoutAcceptedIntegrationEvent>"
18:35 [Information] [] : Configuring web host ("MyShop.Orders")...
18:35 [Information] [] : RabbitMQ Client is trying to connect
18:35 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
18:38 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
18:38 [Information] [] : ----- Handling integration event: 568b85cf-0932-4a0b-8832-eb07a2c62442 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: eaa7a84c-abba-4414-abc0-383a556ca8fa, Basket: null, Id: 568b85cf-0932-4a0b-8832-eb07a2c62442, CreationDate: 06/18/2020 13:02:05 })
18:38 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"eaa7a84c-abba-4414-abc0-383a556ca8fa\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"568b85cf-0932-4a0b-8832-eb07a2c62442\",\"CreationDate\":\"2020-06-18T13:02:05.9805205Z\"}""
18:38 [Information] [] : ----- Handling integration event: fb0cbf24-a54d-4be5-b00b-79dab5ff3a69 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 81a2c15a-edc0-407b-b926-4a7d4fb6df91, Basket: null, Id: fb0cbf24-a54d-4be5-b00b-79dab5ff3a69, CreationDate: 06/18/2020 13:08:32 })
18:39 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"81a2c15a-edc0-407b-b926-4a7d4fb6df91\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"fb0cbf24-a54d-4be5-b00b-79dab5ff3a69\",\"CreationDate\":\"2020-06-18T13:08:32.8315214Z\"}""
18:48 [Information] [] : Configuring web host ("MyShop.Orders")...
18:48 [Information] [] : RabbitMQ Client is trying to connect
18:48 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
18:48 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
18:49 [Information] [] : ----- Handling integration event: ca711246-a724-4f77-908e-4bf8b5a5dfb7 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 63030d8a-643d-4c4d-ae7f-6f5f17f96fda, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: ca711246-a724-4f77-908e-4bf8b5a5dfb7, CreationDate: 06/18/2020 13:19:39 })
18:49 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 63030d8a-643d-4c4d-ae7f-6f5f17f96fda (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 63030d8a-643d-4c4d-ae7f-6f5f17f96fda })
18:50 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
18:50 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
18:50 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
18:50 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
18:50 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 63030d8a-643d-4c4d-ae7f-6f5f17f96fda })
18:50 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:50 [Information] [ea067958-0027-4173-809c-3aad627f1acd] : ----- Begin transaction ea067958-0027-4173-809c-3aad627f1acd for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 63030d8a-643d-4c4d-ae7f-6f5f17f96fda })
18:52 [Information] [] : Configuring web host ("MyShop.Orders")...
18:52 [Information] [] : RabbitMQ Client is trying to connect
18:52 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
18:52 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
18:52 [Information] [] : ----- Handling integration event: ca711246-a724-4f77-908e-4bf8b5a5dfb7 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 63030d8a-643d-4c4d-ae7f-6f5f17f96fda, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: ca711246-a724-4f77-908e-4bf8b5a5dfb7, CreationDate: 06/18/2020 13:19:39 })
18:53 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 63030d8a-643d-4c4d-ae7f-6f5f17f96fda (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 63030d8a-643d-4c4d-ae7f-6f5f17f96fda })
18:53 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
18:53 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
18:53 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
18:53 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
18:53 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 63030d8a-643d-4c4d-ae7f-6f5f17f96fda })
18:53 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:53 [Information] [01d93df9-7c1b-45ae-bbd6-fff58e6449f3] : ----- Begin transaction 01d93df9-7c1b-45ae-bbd6-fff58e6449f3 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 63030d8a-643d-4c4d-ae7f-6f5f17f96fda })
18:53 [Information] [01d93df9-7c1b-45ae-bbd6-fff58e6449f3] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
18:53 [Information] [01d93df9-7c1b-45ae-bbd6-fff58e6449f3] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
18:53 [Information] [01d93df9-7c1b-45ae-bbd6-fff58e6449f3] : ----- Validating command "CreateOrderCommand"
18:53 [Information] [01d93df9-7c1b-45ae-bbd6-fff58e6449f3] : ----- Enqueuing integration event f35877e1-3728-486c-95bf-140954a65ee7 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: f35877e1-3728-486c-95bf-140954a65ee7, CreationDate: 06/18/2020 13:23:58 })
18:53 [Error] [01d93df9-7c1b-45ae-bbd6-fff58e6449f3] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
18:54 [Information] [01d93df9-7c1b-45ae-bbd6-fff58e6449f3] : ----- Commit transaction 01d93df9-7c1b-45ae-bbd6-fff58e6449f3 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:54 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 63030d8a-643d-4c4d-ae7f-6f5f17f96fda })
18:54 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"63030d8a-643d-4c4d-ae7f-6f5f17f96fda\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"ca711246-a724-4f77-908e-4bf8b5a5dfb7\",\"CreationDate\":\"2020-06-18T13:19:39.3548299Z\"}""
18:54 [Information] [] : ----- Handling integration event: 709e5465-e761-4015-9d38-159c593ce454 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 49c2efd4-c544-4d9d-a46b-162459eb5ae3, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 709e5465-e761-4015-9d38-159c593ce454, CreationDate: 06/18/2020 13:24:48 })
18:54 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 49c2efd4-c544-4d9d-a46b-162459eb5ae3 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:54 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:54 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:54 [Information] [5e429bf1-bb3f-4536-9311-c491384f4660] : ----- Begin transaction 5e429bf1-bb3f-4536-9311-c491384f4660 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:56 [Information] [5e429bf1-bb3f-4536-9311-c491384f4660] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
18:56 [Information] [5e429bf1-bb3f-4536-9311-c491384f4660] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
18:56 [Information] [5e429bf1-bb3f-4536-9311-c491384f4660] : ----- Validating command "CreateOrderCommand"
18:56 [Information] [5e429bf1-bb3f-4536-9311-c491384f4660] : ----- Enqueuing integration event 9e8bb379-59a2-4b50-9a29-7a1e72c95382 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 9e8bb379-59a2-4b50-9a29-7a1e72c95382, CreationDate: 06/18/2020 13:26:15 })
18:56 [Error] [5e429bf1-bb3f-4536-9311-c491384f4660] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
18:56 [Information] [5e429bf1-bb3f-4536-9311-c491384f4660] : ----- Commit transaction 5e429bf1-bb3f-4536-9311-c491384f4660 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:56 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:56 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"49c2efd4-c544-4d9d-a46b-162459eb5ae3\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"709e5465-e761-4015-9d38-159c593ce454\",\"CreationDate\":\"2020-06-18T13:24:48.9464007Z\"}""
18:57 [Information] [] : ----- Handling integration event: 6bfcf89e-9922-43bc-a3a0-f4bb9285fd33 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 49c2efd4-c544-4d9d-a46b-162459eb5ae3, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 6bfcf89e-9922-43bc-a3a0-f4bb9285fd33, CreationDate: 06/18/2020 13:27:37 })
18:57 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 49c2efd4-c544-4d9d-a46b-162459eb5ae3 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:57 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:57 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:57 [Information] [2c3f73d9-fe3d-4599-ac18-db0b9faab5d0] : ----- Begin transaction 2c3f73d9-fe3d-4599-ac18-db0b9faab5d0 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:57 [Information] [2c3f73d9-fe3d-4599-ac18-db0b9faab5d0] : ----- Commit transaction 2c3f73d9-fe3d-4599-ac18-db0b9faab5d0 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:57 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:57 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"49c2efd4-c544-4d9d-a46b-162459eb5ae3\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"6bfcf89e-9922-43bc-a3a0-f4bb9285fd33\",\"CreationDate\":\"2020-06-18T13:27:37.5317728Z\"}""
18:58 [Information] [] : ----- Handling integration event: aeb5e562-763e-4efb-b2e0-3feecb4cfb09 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 49c2efd4-c544-4d9d-a46b-162459eb5ae3, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: aeb5e562-763e-4efb-b2e0-3feecb4cfb09, CreationDate: 06/18/2020 13:28:12 })
18:58 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 49c2efd4-c544-4d9d-a46b-162459eb5ae3 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:58 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:58 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:58 [Information] [822c88a9-63d6-4d92-98f7-6701e9c5473c] : ----- Begin transaction 822c88a9-63d6-4d92-98f7-6701e9c5473c for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:58 [Information] [822c88a9-63d6-4d92-98f7-6701e9c5473c] : ----- Commit transaction 822c88a9-63d6-4d92-98f7-6701e9c5473c for "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:58 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:58 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"49c2efd4-c544-4d9d-a46b-162459eb5ae3\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"aeb5e562-763e-4efb-b2e0-3feecb4cfb09\",\"CreationDate\":\"2020-06-18T13:28:12.9492409Z\"}""
18:58 [Information] [] : ----- Handling integration event: fdbb07b5-9291-4059-b76d-8813e506bcfb at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 49c2efd4-c544-4d9d-a46b-162459eb5ae3, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: fdbb07b5-9291-4059-b76d-8813e506bcfb, CreationDate: 06/18/2020 13:28:30 })
18:58 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 49c2efd4-c544-4d9d-a46b-162459eb5ae3 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:58 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:58 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:58 [Information] [83801de8-7c57-40c2-860c-37b99c2f55cc] : ----- Begin transaction 83801de8-7c57-40c2-860c-37b99c2f55cc for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:58 [Information] [83801de8-7c57-40c2-860c-37b99c2f55cc] : ----- Commit transaction 83801de8-7c57-40c2-860c-37b99c2f55cc for "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:58 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 49c2efd4-c544-4d9d-a46b-162459eb5ae3 })
18:58 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"49c2efd4-c544-4d9d-a46b-162459eb5ae3\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"fdbb07b5-9291-4059-b76d-8813e506bcfb\",\"CreationDate\":\"2020-06-18T13:28:30.6832333Z\"}""
18:59 [Information] [] : ----- Handling integration event: 733ae61e-7fa2-41b5-bc2f-d781726c496b at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 07ea1024-feff-4897-adbe-4c2cfe5f37bd, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 733ae61e-7fa2-41b5-bc2f-d781726c496b, CreationDate: 06/18/2020 13:28:57 })
18:59 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 07ea1024-feff-4897-adbe-4c2cfe5f37bd (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 07ea1024-feff-4897-adbe-4c2cfe5f37bd })
18:59 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 07ea1024-feff-4897-adbe-4c2cfe5f37bd })
18:59 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:59 [Information] [b998b5ab-b787-43f6-b075-0ddf2b1f5c63] : ----- Begin transaction b998b5ab-b787-43f6-b075-0ddf2b1f5c63 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 07ea1024-feff-4897-adbe-4c2cfe5f37bd })
18:59 [Information] [b998b5ab-b787-43f6-b075-0ddf2b1f5c63] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
18:59 [Information] [b998b5ab-b787-43f6-b075-0ddf2b1f5c63] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
18:59 [Information] [b998b5ab-b787-43f6-b075-0ddf2b1f5c63] : ----- Validating command "CreateOrderCommand"
18:59 [Information] [b998b5ab-b787-43f6-b075-0ddf2b1f5c63] : ----- Enqueuing integration event 7f1385b8-315c-4df2-8e4c-d102f0e15a17 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 7f1385b8-315c-4df2-8e4c-d102f0e15a17, CreationDate: 06/18/2020 13:29:04 })
18:59 [Error] [b998b5ab-b787-43f6-b075-0ddf2b1f5c63] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
18:59 [Information] [b998b5ab-b787-43f6-b075-0ddf2b1f5c63] : ----- Commit transaction b998b5ab-b787-43f6-b075-0ddf2b1f5c63 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
18:59 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 07ea1024-feff-4897-adbe-4c2cfe5f37bd })
18:59 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"07ea1024-feff-4897-adbe-4c2cfe5f37bd\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"733ae61e-7fa2-41b5-bc2f-d781726c496b\",\"CreationDate\":\"2020-06-18T13:28:57.7451459Z\"}""
19:02 [Information] [] : Configuring web host ("MyShop.Orders")...
19:02 [Information] [] : RabbitMQ Client is trying to connect
19:02 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
19:02 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
19:29 [Information] [] : Configuring web host ("MyShop.Orders")...
19:29 [Information] [] : RabbitMQ Client is trying to connect
19:29 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
19:29 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
19:31 [Information] [] : ----- Handling integration event: 4c083e60-e904-444c-a980-9464c9f0e6c9 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 5759e17c-f527-4b53-b2cb-3d436d9b890a, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 4c083e60-e904-444c-a980-9464c9f0e6c9, CreationDate: 06/18/2020 14:01:28 })
19:31 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 5759e17c-f527-4b53-b2cb-3d436d9b890a (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 5759e17c-f527-4b53-b2cb-3d436d9b890a })
19:31 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
19:31 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
19:31 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
19:31 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
19:31 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 5759e17c-f527-4b53-b2cb-3d436d9b890a })
19:31 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:31 [Information] [d3fad915-1169-43a0-b783-2aa45cb19bc9] : ----- Begin transaction d3fad915-1169-43a0-b783-2aa45cb19bc9 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 5759e17c-f527-4b53-b2cb-3d436d9b890a })
19:31 [Information] [d3fad915-1169-43a0-b783-2aa45cb19bc9] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:31 [Information] [d3fad915-1169-43a0-b783-2aa45cb19bc9] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:31 [Information] [d3fad915-1169-43a0-b783-2aa45cb19bc9] : ----- Validating command "CreateOrderCommand"
19:31 [Information] [d3fad915-1169-43a0-b783-2aa45cb19bc9] : ----- Enqueuing integration event 55f612af-7093-49be-a3fd-0f4a14ebaca4 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 55f612af-7093-49be-a3fd-0f4a14ebaca4, CreationDate: 06/18/2020 14:01:39 })
19:32 [Information] [d3fad915-1169-43a0-b783-2aa45cb19bc9] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: d77652c9-7233-4cb2-a11a-5ac05b44be01, CreatedBy: 1, CreatedDate: 06/18/2020 14:02:35, UpdatedDate: 06/18/2020 19:32:35, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 1f174676-ca04-4571-8a52-9e3fc936b3ff, CreatedBy: 1, CreatedDate: 06/18/2020 14:01:48, UpdatedDate: 06/18/2020 19:31:48, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: d77652c9-7233-4cb2-a11a-5ac05b44be01, CreatedBy: 1, CreatedDate: 06/18/2020 14:02:35, UpdatedDate: 06/18/2020 19:32:35, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 1f174676-ca04-4571-8a52-9e3fc936b3ff, CreatedBy: 1, CreatedDate: 06/18/2020 14:01:48, UpdatedDate: 06/18/2020 19:31:48, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: d77652c9-7233-4cb2-a11a-5ac05b44be01, CreatedBy: 1, CreatedDate: 06/18/2020 14:02:35, UpdatedDate: 06/18/2020 19:32:35, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 1f174676-ca04-4571-8a52-9e3fc936b3ff, CreatedBy: 1, CreatedDate: 06/18/2020 14:01:48, UpdatedDate: 06/18/2020 19:31:48, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
19:33 [Error] [d3fad915-1169-43a0-b783-2aa45cb19bc9] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:33 [Information] [d3fad915-1169-43a0-b783-2aa45cb19bc9] : ----- Commit transaction d3fad915-1169-43a0-b783-2aa45cb19bc9 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:33 [Error] [d3fad915-1169-43a0-b783-2aa45cb19bc9] : Failed executing DbCommand ("58"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
19:33 [Error] [d3fad915-1169-43a0-b783-2aa45cb19bc9] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3335b19f-cdef-4fe1-a50b-cc9df77e7950
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:33 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 5759e17c-f527-4b53-b2cb-3d436d9b890a })
19:33 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"5759e17c-f527-4b53-b2cb-3d436d9b890a\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"4c083e60-e904-444c-a980-9464c9f0e6c9\",\"CreationDate\":\"2020-06-18T14:01:28.4380931Z\"}""
19:33 [Information] [] : ----- Handling integration event: 837d2231-0c83-4378-a16d-38e4884fba49 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 9ea489b8-7aa0-474f-b98d-6cd110f8462a, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 837d2231-0c83-4378-a16d-38e4884fba49, CreationDate: 06/18/2020 14:03:49 })
19:33 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 9ea489b8-7aa0-474f-b98d-6cd110f8462a (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 9ea489b8-7aa0-474f-b98d-6cd110f8462a })
19:33 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 9ea489b8-7aa0-474f-b98d-6cd110f8462a })
19:33 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:33 [Information] [fb9965b6-8f33-4522-805f-9848175d20c8] : ----- Begin transaction fb9965b6-8f33-4522-805f-9848175d20c8 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 9ea489b8-7aa0-474f-b98d-6cd110f8462a })
19:33 [Information] [fb9965b6-8f33-4522-805f-9848175d20c8] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:33 [Information] [fb9965b6-8f33-4522-805f-9848175d20c8] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:33 [Information] [fb9965b6-8f33-4522-805f-9848175d20c8] : ----- Validating command "CreateOrderCommand"
19:33 [Information] [fb9965b6-8f33-4522-805f-9848175d20c8] : ----- Enqueuing integration event 37637723-04d4-42b8-9e7b-1d3a05dd6228 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 37637723-04d4-42b8-9e7b-1d3a05dd6228, CreationDate: 06/18/2020 14:03:58 })
19:34 [Information] [fb9965b6-8f33-4522-805f-9848175d20c8] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: f9f14983-16cd-4cb3-8513-d85c3d8885d7, CreatedBy: 1, CreatedDate: 06/18/2020 14:04:02, UpdatedDate: 06/18/2020 19:34:02, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: b5d8ba02-68b0-4ea9-8c7e-3e715a39c59e, CreatedBy: 1, CreatedDate: 06/18/2020 14:04:00, UpdatedDate: 06/18/2020 19:34:00, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: f9f14983-16cd-4cb3-8513-d85c3d8885d7, CreatedBy: 1, CreatedDate: 06/18/2020 14:04:02, UpdatedDate: 06/18/2020 19:34:02, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: b5d8ba02-68b0-4ea9-8c7e-3e715a39c59e, CreatedBy: 1, CreatedDate: 06/18/2020 14:04:00, UpdatedDate: 06/18/2020 19:34:00, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: f9f14983-16cd-4cb3-8513-d85c3d8885d7, CreatedBy: 1, CreatedDate: 06/18/2020 14:04:02, UpdatedDate: 06/18/2020 19:34:02, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: b5d8ba02-68b0-4ea9-8c7e-3e715a39c59e, CreatedBy: 1, CreatedDate: 06/18/2020 14:04:00, UpdatedDate: 06/18/2020 19:34:00, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
19:35 [Error] [fb9965b6-8f33-4522-805f-9848175d20c8] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:35 [Information] [fb9965b6-8f33-4522-805f-9848175d20c8] : ----- Commit transaction fb9965b6-8f33-4522-805f-9848175d20c8 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:35 [Error] [fb9965b6-8f33-4522-805f-9848175d20c8] : Failed executing DbCommand ("24"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
19:35 [Error] [fb9965b6-8f33-4522-805f-9848175d20c8] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3335b19f-cdef-4fe1-a50b-cc9df77e7950
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:35 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 9ea489b8-7aa0-474f-b98d-6cd110f8462a })
19:35 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"9ea489b8-7aa0-474f-b98d-6cd110f8462a\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"837d2231-0c83-4378-a16d-38e4884fba49\",\"CreationDate\":\"2020-06-18T14:03:49.4894919Z\"}""
19:36 [Information] [] : ----- Handling integration event: dd58b528-63e9-4bb8-bb5d-c7eb5f034cf9 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 2833cfae-8118-49d7-ade5-86ada7fef4fb, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: dd58b528-63e9-4bb8-bb5d-c7eb5f034cf9, CreationDate: 06/18/2020 14:06:03 })
19:36 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 2833cfae-8118-49d7-ade5-86ada7fef4fb (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 2833cfae-8118-49d7-ade5-86ada7fef4fb })
19:36 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 2833cfae-8118-49d7-ade5-86ada7fef4fb })
19:36 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:36 [Information] [faf943c1-bdd4-411f-a5be-1c540bee877a] : ----- Begin transaction faf943c1-bdd4-411f-a5be-1c540bee877a for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 2833cfae-8118-49d7-ade5-86ada7fef4fb })
19:36 [Information] [faf943c1-bdd4-411f-a5be-1c540bee877a] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:36 [Information] [faf943c1-bdd4-411f-a5be-1c540bee877a] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:36 [Information] [faf943c1-bdd4-411f-a5be-1c540bee877a] : ----- Validating command "CreateOrderCommand"
19:36 [Information] [faf943c1-bdd4-411f-a5be-1c540bee877a] : ----- Enqueuing integration event 59bc8010-178c-48f5-a73a-0ac21806b3c8 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 59bc8010-178c-48f5-a73a-0ac21806b3c8, CreationDate: 06/18/2020 14:06:05 })
19:36 [Information] [faf943c1-bdd4-411f-a5be-1c540bee877a] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: c7b78bf0-a06e-437d-af30-4e5c238f4d25, CreatedBy: 1, CreatedDate: 06/18/2020 14:06:06, UpdatedDate: 06/18/2020 19:36:06, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 528cb210-b6ef-4088-9995-c472e4ad95f1, CreatedBy: 1, CreatedDate: 06/18/2020 14:06:06, UpdatedDate: 06/18/2020 19:36:06, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: c7b78bf0-a06e-437d-af30-4e5c238f4d25, CreatedBy: 1, CreatedDate: 06/18/2020 14:06:06, UpdatedDate: 06/18/2020 19:36:06, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 528cb210-b6ef-4088-9995-c472e4ad95f1, CreatedBy: 1, CreatedDate: 06/18/2020 14:06:06, UpdatedDate: 06/18/2020 19:36:06, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: c7b78bf0-a06e-437d-af30-4e5c238f4d25, CreatedBy: 1, CreatedDate: 06/18/2020 14:06:06, UpdatedDate: 06/18/2020 19:36:06, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 528cb210-b6ef-4088-9995-c472e4ad95f1, CreatedBy: 1, CreatedDate: 06/18/2020 14:06:06, UpdatedDate: 06/18/2020 19:36:06, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
19:39 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
19:39 [Information] [] : RabbitMQ Client is trying to connect
19:39 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
19:39 [Error] [faf943c1-bdd4-411f-a5be-1c540bee877a] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:39 [Information] [faf943c1-bdd4-411f-a5be-1c540bee877a] : ----- Commit transaction faf943c1-bdd4-411f-a5be-1c540bee877a for "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:39 [Error] [faf943c1-bdd4-411f-a5be-1c540bee877a] : Failed executing DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
19:39 [Error] [faf943c1-bdd4-411f-a5be-1c540bee877a] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3335b19f-cdef-4fe1-a50b-cc9df77e7950
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:39 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 2833cfae-8118-49d7-ade5-86ada7fef4fb })
19:39 [Information] [] : ----- Handling integration event: dd58b528-63e9-4bb8-bb5d-c7eb5f034cf9 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 2833cfae-8118-49d7-ade5-86ada7fef4fb, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: dd58b528-63e9-4bb8-bb5d-c7eb5f034cf9, CreationDate: 06/18/2020 14:06:03 })
19:39 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"2833cfae-8118-49d7-ade5-86ada7fef4fb\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"dd58b528-63e9-4bb8-bb5d-c7eb5f034cf9\",\"CreationDate\":\"2020-06-18T14:06:03.6232807Z\"}""
19:39 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 2833cfae-8118-49d7-ade5-86ada7fef4fb (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 2833cfae-8118-49d7-ade5-86ada7fef4fb })
19:39 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 2833cfae-8118-49d7-ade5-86ada7fef4fb })
19:39 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:39 [Information] [b1efd13a-285b-4114-9843-5c6abb5314e7] : ----- Begin transaction b1efd13a-285b-4114-9843-5c6abb5314e7 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 2833cfae-8118-49d7-ade5-86ada7fef4fb })
19:39 [Information] [b1efd13a-285b-4114-9843-5c6abb5314e7] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:39 [Information] [b1efd13a-285b-4114-9843-5c6abb5314e7] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:39 [Information] [b1efd13a-285b-4114-9843-5c6abb5314e7] : ----- Validating command "CreateOrderCommand"
19:39 [Information] [b1efd13a-285b-4114-9843-5c6abb5314e7] : ----- Enqueuing integration event 2fdf35ed-3879-486c-a6b7-dd80cd001237 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 2fdf35ed-3879-486c-a6b7-dd80cd001237, CreationDate: 06/18/2020 14:09:49 })
19:39 [Information] [b1efd13a-285b-4114-9843-5c6abb5314e7] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: da8720b0-7b4f-4d45-88b0-88e17dfc1f34, CreatedBy: 1, CreatedDate: 06/18/2020 14:09:50, UpdatedDate: 06/18/2020 19:39:50, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: d056179d-7d5a-42bf-b450-34d0e56a14c1, CreatedBy: 1, CreatedDate: 06/18/2020 14:09:50, UpdatedDate: 06/18/2020 19:39:50, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: da8720b0-7b4f-4d45-88b0-88e17dfc1f34, CreatedBy: 1, CreatedDate: 06/18/2020 14:09:50, UpdatedDate: 06/18/2020 19:39:50, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: d056179d-7d5a-42bf-b450-34d0e56a14c1, CreatedBy: 1, CreatedDate: 06/18/2020 14:09:50, UpdatedDate: 06/18/2020 19:39:50, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: da8720b0-7b4f-4d45-88b0-88e17dfc1f34, CreatedBy: 1, CreatedDate: 06/18/2020 14:09:50, UpdatedDate: 06/18/2020 19:39:50, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: d056179d-7d5a-42bf-b450-34d0e56a14c1, CreatedBy: 1, CreatedDate: 06/18/2020 14:09:50, UpdatedDate: 06/18/2020 19:39:50, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
19:42 [Error] [b1efd13a-285b-4114-9843-5c6abb5314e7] : Failed executing DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
19:42 [Error] [b1efd13a-285b-4114-9843-5c6abb5314e7] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3335b19f-cdef-4fe1-a50b-cc9df77e7950
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:42 [Error] [b1efd13a-285b-4114-9843-5c6abb5314e7] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:42 [Information] [b1efd13a-285b-4114-9843-5c6abb5314e7] : ----- Commit transaction b1efd13a-285b-4114-9843-5c6abb5314e7 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:42 [Error] [b1efd13a-285b-4114-9843-5c6abb5314e7] : Failed executing DbCommand ("36"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
19:42 [Error] [b1efd13a-285b-4114-9843-5c6abb5314e7] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3335b19f-cdef-4fe1-a50b-cc9df77e7950
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:42 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 2833cfae-8118-49d7-ade5-86ada7fef4fb })
19:42 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"2833cfae-8118-49d7-ade5-86ada7fef4fb\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"dd58b528-63e9-4bb8-bb5d-c7eb5f034cf9\",\"CreationDate\":\"2020-06-18T14:06:03.6232807Z\"}""
19:43 [Information] [] : ----- Handling integration event: 34e388b9-2100-4e53-b8c3-4a42e75e0d47 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: b5ca2049-1aa2-4284-b627-d0bf86b56d60, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 34e388b9-2100-4e53-b8c3-4a42e75e0d47, CreationDate: 06/18/2020 14:13:38 })
19:43 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": b5ca2049-1aa2-4284-b627-d0bf86b56d60 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: b5ca2049-1aa2-4284-b627-d0bf86b56d60 })
19:43 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: b5ca2049-1aa2-4284-b627-d0bf86b56d60 })
19:43 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:43 [Information] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : ----- Begin transaction 11eea972-978b-48b0-b6c6-d06129b2e0ca for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: b5ca2049-1aa2-4284-b627-d0bf86b56d60 })
19:43 [Information] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:43 [Information] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:43 [Information] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : ----- Validating command "CreateOrderCommand"
19:43 [Information] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : ----- Enqueuing integration event 04b5228a-fe78-4c8d-a4cd-52fdc631bc31 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 04b5228a-fe78-4c8d-a4cd-52fdc631bc31, CreationDate: 06/18/2020 14:13:40 })
19:44 [Information] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: c996857a-452b-4e5c-97c2-8e7bd0d720ad, CreatedBy: 1, CreatedDate: 06/18/2020 14:14:33, UpdatedDate: 06/18/2020 19:44:33, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 4b1228d7-5db2-4207-9a29-6d25d67dc6ae, CreatedBy: 1, CreatedDate: 06/18/2020 14:13:44, UpdatedDate: 06/18/2020 19:43:44, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: c996857a-452b-4e5c-97c2-8e7bd0d720ad, CreatedBy: 1, CreatedDate: 06/18/2020 14:14:33, UpdatedDate: 06/18/2020 19:44:33, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 4b1228d7-5db2-4207-9a29-6d25d67dc6ae, CreatedBy: 1, CreatedDate: 06/18/2020 14:13:44, UpdatedDate: 06/18/2020 19:43:44, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: c996857a-452b-4e5c-97c2-8e7bd0d720ad, CreatedBy: 1, CreatedDate: 06/18/2020 14:14:33, UpdatedDate: 06/18/2020 19:44:33, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 4b1228d7-5db2-4207-9a29-6d25d67dc6ae, CreatedBy: 1, CreatedDate: 06/18/2020 14:13:44, UpdatedDate: 06/18/2020 19:43:44, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
19:44 [Error] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : Failed executing DbCommand ("19"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
19:44 [Error] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3335b19f-cdef-4fe1-a50b-cc9df77e7950
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:45 [Error] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:45 [Information] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : ----- Commit transaction 11eea972-978b-48b0-b6c6-d06129b2e0ca for "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:45 [Error] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : Failed executing DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
19:45 [Error] [11eea972-978b-48b0-b6c6-d06129b2e0ca] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (2).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3335b19f-cdef-4fe1-a50b-cc9df77e7950
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:45 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: b5ca2049-1aa2-4284-b627-d0bf86b56d60 })
19:45 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"b5ca2049-1aa2-4284-b627-d0bf86b56d60\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"34e388b9-2100-4e53-b8c3-4a42e75e0d47\",\"CreationDate\":\"2020-06-18T14:13:38.7574628Z\"}""
19:45 [Information] [] : ----- Handling integration event: 6de566af-279c-4c8d-977c-6de64fc7dd81 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 29b5ea2c-9a97-40fa-8df5-1baf96de9eb7, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 6de566af-279c-4c8d-977c-6de64fc7dd81, CreationDate: 06/18/2020 14:15:52 })
19:45 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 29b5ea2c-9a97-40fa-8df5-1baf96de9eb7 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 29b5ea2c-9a97-40fa-8df5-1baf96de9eb7 })
19:45 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 29b5ea2c-9a97-40fa-8df5-1baf96de9eb7 })
19:45 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:45 [Information] [576f738c-9997-4eec-a2e7-118ddf7abca3] : ----- Begin transaction 576f738c-9997-4eec-a2e7-118ddf7abca3 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 29b5ea2c-9a97-40fa-8df5-1baf96de9eb7 })
19:45 [Information] [576f738c-9997-4eec-a2e7-118ddf7abca3] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:45 [Information] [576f738c-9997-4eec-a2e7-118ddf7abca3] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:45 [Information] [576f738c-9997-4eec-a2e7-118ddf7abca3] : ----- Validating command "CreateOrderCommand"
19:45 [Information] [576f738c-9997-4eec-a2e7-118ddf7abca3] : ----- Enqueuing integration event c5c0126c-9897-4310-a9cb-65015a3522d4 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: c5c0126c-9897-4310-a9cb-65015a3522d4, CreationDate: 06/18/2020 14:15:58 })
19:46 [Information] [576f738c-9997-4eec-a2e7-118ddf7abca3] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 1dbb0126-a499-4403-9bf5-3ddb1da2d238, CreatedBy: 1, CreatedDate: 06/18/2020 14:16:18, UpdatedDate: 06/18/2020 19:46:18, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: bc4f9519-6b90-4ba0-bbfe-bb52276fe1c9, CreatedBy: 1, CreatedDate: 06/18/2020 14:16:02, UpdatedDate: 06/18/2020 19:46:02, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 1dbb0126-a499-4403-9bf5-3ddb1da2d238, CreatedBy: 1, CreatedDate: 06/18/2020 14:16:18, UpdatedDate: 06/18/2020 19:46:18, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: bc4f9519-6b90-4ba0-bbfe-bb52276fe1c9, CreatedBy: 1, CreatedDate: 06/18/2020 14:16:02, UpdatedDate: 06/18/2020 19:46:02, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 1dbb0126-a499-4403-9bf5-3ddb1da2d238, CreatedBy: 1, CreatedDate: 06/18/2020 14:16:18, UpdatedDate: 06/18/2020 19:46:18, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: bc4f9519-6b90-4ba0-bbfe-bb52276fe1c9, CreatedBy: 1, CreatedDate: 06/18/2020 14:16:02, UpdatedDate: 06/18/2020 19:46:02, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
19:48 [Error] [576f738c-9997-4eec-a2e7-118ddf7abca3] : Failed executing DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
19:48 [Error] [576f738c-9997-4eec-a2e7-118ddf7abca3] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3335b19f-cdef-4fe1-a50b-cc9df77e7950
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:49 [Error] [576f738c-9997-4eec-a2e7-118ddf7abca3] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:50 [Information] [576f738c-9997-4eec-a2e7-118ddf7abca3] : ----- Commit transaction 576f738c-9997-4eec-a2e7-118ddf7abca3 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:50 [Error] [576f738c-9997-4eec-a2e7-118ddf7abca3] : Failed executing DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
19:50 [Error] [576f738c-9997-4eec-a2e7-118ddf7abca3] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (3).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3335b19f-cdef-4fe1-a50b-cc9df77e7950
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:50 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 29b5ea2c-9a97-40fa-8df5-1baf96de9eb7 })
19:50 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"29b5ea2c-9a97-40fa-8df5-1baf96de9eb7\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"6de566af-279c-4c8d-977c-6de64fc7dd81\",\"CreationDate\":\"2020-06-18T14:15:52.663513Z\"}""
19:54 [Information] [] : Configuring web host ("MyShop.Orders")...
19:55 [Information] [] : RabbitMQ Client is trying to connect
19:55 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
19:55 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
19:55 [Information] [] : ----- Handling integration event: b9c466c9-6a97-4d35-abdf-b1b4f939a8ba at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 87109f3b-0092-418b-94a1-7c574340819e, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: b9c466c9-6a97-4d35-abdf-b1b4f939a8ba, CreationDate: 06/18/2020 14:25:28 })
19:55 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 87109f3b-0092-418b-94a1-7c574340819e (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 87109f3b-0092-418b-94a1-7c574340819e })
19:55 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
19:55 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
19:55 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
19:55 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
19:55 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 87109f3b-0092-418b-94a1-7c574340819e })
19:55 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:55 [Information] [c01b9447-f101-451c-aa84-3f3412af539d] : ----- Begin transaction c01b9447-f101-451c-aa84-3f3412af539d for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 87109f3b-0092-418b-94a1-7c574340819e })
19:55 [Information] [c01b9447-f101-451c-aa84-3f3412af539d] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:55 [Information] [c01b9447-f101-451c-aa84-3f3412af539d] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:55 [Information] [c01b9447-f101-451c-aa84-3f3412af539d] : ----- Validating command "CreateOrderCommand"
19:55 [Information] [c01b9447-f101-451c-aa84-3f3412af539d] : ----- Enqueuing integration event df2a2509-22d1-4ae3-83de-9b18b79c9602 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: df2a2509-22d1-4ae3-83de-9b18b79c9602, CreationDate: 06/18/2020 14:25:34 })
19:55 [Information] [c01b9447-f101-451c-aa84-3f3412af539d] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 879d6406-6a1b-428a-8c53-94b7ecaacd5a, CreatedBy: 1, CreatedDate: 06/18/2020 14:25:34, UpdatedDate: 06/18/2020 19:55:34, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 6e091fce-ca6d-4482-887b-b3f3a6d5da7e, CreatedBy: 1, CreatedDate: 06/18/2020 14:25:34, UpdatedDate: 06/18/2020 19:55:34, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 879d6406-6a1b-428a-8c53-94b7ecaacd5a, CreatedBy: 1, CreatedDate: 06/18/2020 14:25:34, UpdatedDate: 06/18/2020 19:55:34, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 6e091fce-ca6d-4482-887b-b3f3a6d5da7e, CreatedBy: 1, CreatedDate: 06/18/2020 14:25:34, UpdatedDate: 06/18/2020 19:55:34, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 879d6406-6a1b-428a-8c53-94b7ecaacd5a, CreatedBy: 1, CreatedDate: 06/18/2020 14:25:34, UpdatedDate: 06/18/2020 19:55:34, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 6e091fce-ca6d-4482-887b-b3f3a6d5da7e, CreatedBy: 1, CreatedDate: 06/18/2020 14:25:34, UpdatedDate: 06/18/2020 19:55:34, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
19:55 [Error] [c01b9447-f101-451c-aa84-3f3412af539d] : Failed executing DbCommand ("41"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
19:55 [Error] [c01b9447-f101-451c-aa84-3f3412af539d] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d02c3cb-37cc-4750-bfe9-b41d05092961
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:59 [Error] [c01b9447-f101-451c-aa84-3f3412af539d] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:59 [Information] [c01b9447-f101-451c-aa84-3f3412af539d] : ----- Commit transaction c01b9447-f101-451c-aa84-3f3412af539d for "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:59 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
19:59 [Information] [] : RabbitMQ Client is trying to connect
19:59 [Error] [c01b9447-f101-451c-aa84-3f3412af539d] : Failed executing DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
19:59 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
19:59 [Error] [c01b9447-f101-451c-aa84-3f3412af539d] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (11).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d02c3cb-37cc-4750-bfe9-b41d05092961
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
19:59 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 87109f3b-0092-418b-94a1-7c574340819e })
19:59 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"87109f3b-0092-418b-94a1-7c574340819e\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"b9c466c9-6a97-4d35-abdf-b1b4f939a8ba\",\"CreationDate\":\"2020-06-18T14:25:28.8685263Z\"}""
19:59 [Warning] [] : Recreating RabbitMQ consumer channel
19:59 [Information] [] : ----- Handling integration event: b9c466c9-6a97-4d35-abdf-b1b4f939a8ba at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 87109f3b-0092-418b-94a1-7c574340819e, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: b9c466c9-6a97-4d35-abdf-b1b4f939a8ba, CreationDate: 06/18/2020 14:25:28 })
19:59 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 87109f3b-0092-418b-94a1-7c574340819e (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 87109f3b-0092-418b-94a1-7c574340819e })
19:59 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 87109f3b-0092-418b-94a1-7c574340819e })
19:59 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
19:59 [Information] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : ----- Begin transaction 5caedc3d-4a18-4c33-9161-e7b8cf6cc228 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 87109f3b-0092-418b-94a1-7c574340819e })
19:59 [Information] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:59 [Information] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
19:59 [Information] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : ----- Validating command "CreateOrderCommand"
19:59 [Information] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : ----- Enqueuing integration event fab84dca-f408-4cee-9ef0-1295879c0614 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: fab84dca-f408-4cee-9ef0-1295879c0614, CreationDate: 06/18/2020 14:29:51 })
19:59 [Information] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 6c703ec3-5833-4611-82dc-d081e4ec30f1, CreatedBy: 1, CreatedDate: 06/18/2020 14:29:54, UpdatedDate: 06/18/2020 19:59:54, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: f53a191f-c348-4e97-b5c7-7f2f9d03594f, CreatedBy: 1, CreatedDate: 06/18/2020 14:29:54, UpdatedDate: 06/18/2020 19:59:54, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 6c703ec3-5833-4611-82dc-d081e4ec30f1, CreatedBy: 1, CreatedDate: 06/18/2020 14:29:54, UpdatedDate: 06/18/2020 19:59:54, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: f53a191f-c348-4e97-b5c7-7f2f9d03594f, CreatedBy: 1, CreatedDate: 06/18/2020 14:29:54, UpdatedDate: 06/18/2020 19:59:54, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 6c703ec3-5833-4611-82dc-d081e4ec30f1, CreatedBy: 1, CreatedDate: 06/18/2020 14:29:54, UpdatedDate: 06/18/2020 19:59:54, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: f53a191f-c348-4e97-b5c7-7f2f9d03594f, CreatedBy: 1, CreatedDate: 06/18/2020 14:29:54, UpdatedDate: 06/18/2020 19:59:54, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
20:01 [Information] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 7a2a3808-f2d8-482a-94cb-acef72d18a61, CreatedBy: 1, CreatedDate: 06/18/2020 14:30:40, UpdatedDate: 06/18/2020 20:00:40, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 4865c747-9358-4869-be7b-5e4766ee4bde, CreatedBy: 1, CreatedDate: 06/18/2020 14:30:37, UpdatedDate: 06/18/2020 20:00:37, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 7a2a3808-f2d8-482a-94cb-acef72d18a61, CreatedBy: 1, CreatedDate: 06/18/2020 14:30:40, UpdatedDate: 06/18/2020 20:00:40, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 4865c747-9358-4869-be7b-5e4766ee4bde, CreatedBy: 1, CreatedDate: 06/18/2020 14:30:37, UpdatedDate: 06/18/2020 20:00:37, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 7a2a3808-f2d8-482a-94cb-acef72d18a61, CreatedBy: 1, CreatedDate: 06/18/2020 14:30:40, UpdatedDate: 06/18/2020 20:00:40, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 4865c747-9358-4869-be7b-5e4766ee4bde, CreatedBy: 1, CreatedDate: 06/18/2020 14:30:37, UpdatedDate: 06/18/2020 20:00:37, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
20:02 [Error] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : Failed executing DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
20:02 [Error] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d02c3cb-37cc-4750-bfe9-b41d05092961
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
20:05 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
20:05 [Information] [] : RabbitMQ Client is trying to connect
20:05 [Error] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:05 [Information] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : ----- Commit transaction 5caedc3d-4a18-4c33-9161-e7b8cf6cc228 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:05 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
20:05 [Error] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : Failed executing DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
20:05 [Error] [5caedc3d-4a18-4c33-9161-e7b8cf6cc228] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (12).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d02c3cb-37cc-4750-bfe9-b41d05092961
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
20:05 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 87109f3b-0092-418b-94a1-7c574340819e })
20:05 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"87109f3b-0092-418b-94a1-7c574340819e\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"b9c466c9-6a97-4d35-abdf-b1b4f939a8ba\",\"CreationDate\":\"2020-06-18T14:25:28.8685263Z\"}""
20:05 [Information] [] : ----- Handling integration event: abd7ae3b-43f7-4a8b-b227-cb0398de92a7 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 45265fc9-ac45-4d65-83ac-5b5ee48b12d4, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: abd7ae3b-43f7-4a8b-b227-cb0398de92a7, CreationDate: 06/18/2020 14:35:40 })
20:05 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 45265fc9-ac45-4d65-83ac-5b5ee48b12d4 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 45265fc9-ac45-4d65-83ac-5b5ee48b12d4 })
20:05 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 45265fc9-ac45-4d65-83ac-5b5ee48b12d4 })
20:05 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:05 [Information] [aaeccb84-cac2-4781-afa8-a733b3eacb8c] : ----- Begin transaction aaeccb84-cac2-4781-afa8-a733b3eacb8c for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 45265fc9-ac45-4d65-83ac-5b5ee48b12d4 })
20:05 [Information] [aaeccb84-cac2-4781-afa8-a733b3eacb8c] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:05 [Information] [aaeccb84-cac2-4781-afa8-a733b3eacb8c] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:05 [Information] [aaeccb84-cac2-4781-afa8-a733b3eacb8c] : ----- Validating command "CreateOrderCommand"
20:05 [Information] [aaeccb84-cac2-4781-afa8-a733b3eacb8c] : ----- Enqueuing integration event 596e1f88-6d94-4794-82e6-46a196ea816f to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 596e1f88-6d94-4794-82e6-46a196ea816f, CreationDate: 06/18/2020 14:35:50 })
20:05 [Information] [aaeccb84-cac2-4781-afa8-a733b3eacb8c] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: a80b082a-21e6-477d-8f53-6563c5902751, CreatedBy: 1, CreatedDate: 06/18/2020 14:35:53, UpdatedDate: 06/18/2020 20:05:53, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 7e379b66-b39d-44c7-bb43-0009e052015d, CreatedBy: 1, CreatedDate: 06/18/2020 14:35:51, UpdatedDate: 06/18/2020 20:05:51, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: a80b082a-21e6-477d-8f53-6563c5902751, CreatedBy: 1, CreatedDate: 06/18/2020 14:35:53, UpdatedDate: 06/18/2020 20:05:53, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 7e379b66-b39d-44c7-bb43-0009e052015d, CreatedBy: 1, CreatedDate: 06/18/2020 14:35:51, UpdatedDate: 06/18/2020 20:05:51, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: a80b082a-21e6-477d-8f53-6563c5902751, CreatedBy: 1, CreatedDate: 06/18/2020 14:35:53, UpdatedDate: 06/18/2020 20:05:53, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 7e379b66-b39d-44c7-bb43-0009e052015d, CreatedBy: 1, CreatedDate: 06/18/2020 14:35:51, UpdatedDate: 06/18/2020 20:05:51, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
20:10 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
20:10 [Information] [] : RabbitMQ Client is trying to connect
20:10 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
20:10 [Information] [] : RabbitMQ Client is trying to connect
20:10 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
20:10 [Information] [] : RabbitMQ Client is trying to connect
20:10 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
20:10 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
20:10 [Error] [aaeccb84-cac2-4781-afa8-a733b3eacb8c] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:10 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
20:10 [Information] [aaeccb84-cac2-4781-afa8-a733b3eacb8c] : ----- Commit transaction aaeccb84-cac2-4781-afa8-a733b3eacb8c for "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:10 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 45265fc9-ac45-4d65-83ac-5b5ee48b12d4 })
20:10 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"45265fc9-ac45-4d65-83ac-5b5ee48b12d4\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"abd7ae3b-43f7-4a8b-b227-cb0398de92a7\",\"CreationDate\":\"2020-06-18T14:35:40.106884Z\"}""
20:10 [Warning] [] : Recreating RabbitMQ consumer channel
20:10 [Information] [] : ----- Handling integration event: abd7ae3b-43f7-4a8b-b227-cb0398de92a7 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 45265fc9-ac45-4d65-83ac-5b5ee48b12d4, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: abd7ae3b-43f7-4a8b-b227-cb0398de92a7, CreationDate: 06/18/2020 14:35:40 })
20:10 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 45265fc9-ac45-4d65-83ac-5b5ee48b12d4 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 45265fc9-ac45-4d65-83ac-5b5ee48b12d4 })
20:10 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 45265fc9-ac45-4d65-83ac-5b5ee48b12d4 })
20:10 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:10 [Information] [9c563e51-d541-44f4-be40-aa3194884131] : ----- Begin transaction 9c563e51-d541-44f4-be40-aa3194884131 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 45265fc9-ac45-4d65-83ac-5b5ee48b12d4 })
20:10 [Information] [9c563e51-d541-44f4-be40-aa3194884131] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:10 [Information] [9c563e51-d541-44f4-be40-aa3194884131] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:10 [Information] [9c563e51-d541-44f4-be40-aa3194884131] : ----- Validating command "CreateOrderCommand"
20:10 [Information] [9c563e51-d541-44f4-be40-aa3194884131] : ----- Enqueuing integration event 64d8d3cc-1565-407f-a4d8-5fe9b3fa7d84 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 64d8d3cc-1565-407f-a4d8-5fe9b3fa7d84, CreationDate: 06/18/2020 14:40:47 })
20:10 [Information] [9c563e51-d541-44f4-be40-aa3194884131] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 3f9bc8f1-32f8-431f-9a8a-f30989ea7a7f, CreatedBy: 1, CreatedDate: 06/18/2020 14:40:48, UpdatedDate: 06/18/2020 20:10:48, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 13e72aad-ea0f-45f7-a868-33033966426c, CreatedBy: 1, CreatedDate: 06/18/2020 14:40:48, UpdatedDate: 06/18/2020 20:10:48, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 3f9bc8f1-32f8-431f-9a8a-f30989ea7a7f, CreatedBy: 1, CreatedDate: 06/18/2020 14:40:48, UpdatedDate: 06/18/2020 20:10:48, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 13e72aad-ea0f-45f7-a868-33033966426c, CreatedBy: 1, CreatedDate: 06/18/2020 14:40:48, UpdatedDate: 06/18/2020 20:10:48, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 3f9bc8f1-32f8-431f-9a8a-f30989ea7a7f, CreatedBy: 1, CreatedDate: 06/18/2020 14:40:48, UpdatedDate: 06/18/2020 20:10:48, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 13e72aad-ea0f-45f7-a868-33033966426c, CreatedBy: 1, CreatedDate: 06/18/2020 14:40:48, UpdatedDate: 06/18/2020 20:10:48, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
20:10 [Error] [9c563e51-d541-44f4-be40-aa3194884131] : Failed executing DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
20:10 [Error] [9c563e51-d541-44f4-be40-aa3194884131] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d02c3cb-37cc-4750-bfe9-b41d05092961
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
20:10 [Error] [9c563e51-d541-44f4-be40-aa3194884131] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:10 [Information] [9c563e51-d541-44f4-be40-aa3194884131] : ----- Commit transaction 9c563e51-d541-44f4-be40-aa3194884131 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:10 [Error] [9c563e51-d541-44f4-be40-aa3194884131] : Failed executing DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
20:10 [Error] [9c563e51-d541-44f4-be40-aa3194884131] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (14).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d02c3cb-37cc-4750-bfe9-b41d05092961
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
20:10 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 45265fc9-ac45-4d65-83ac-5b5ee48b12d4 })
20:10 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"45265fc9-ac45-4d65-83ac-5b5ee48b12d4\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"abd7ae3b-43f7-4a8b-b227-cb0398de92a7\",\"CreationDate\":\"2020-06-18T14:35:40.106884Z\"}""
20:13 [Information] [] : ----- Handling integration event: 933ac107-b77e-459c-aa25-0284bcbb56f6 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 6f1489fc-2c62-4011-a08a-7042ac4b6eaf, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 933ac107-b77e-459c-aa25-0284bcbb56f6, CreationDate: 06/18/2020 14:43:50 })
20:13 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 6f1489fc-2c62-4011-a08a-7042ac4b6eaf (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 6f1489fc-2c62-4011-a08a-7042ac4b6eaf })
20:13 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 6f1489fc-2c62-4011-a08a-7042ac4b6eaf })
20:13 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:13 [Information] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : ----- Begin transaction c2d68f1a-34a4-4ecd-be69-b43c17cb0128 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 6f1489fc-2c62-4011-a08a-7042ac4b6eaf })
20:13 [Information] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:13 [Information] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:13 [Information] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : ----- Validating command "CreateOrderCommand"
20:13 [Information] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : ----- Enqueuing integration event 82968d52-bbe7-472b-984f-0ff4a2e45fae to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 82968d52-bbe7-472b-984f-0ff4a2e45fae, CreationDate: 06/18/2020 14:43:54 })
20:14 [Information] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 0b270874-f91b-40e5-a22e-5ccc4ead9bea, CreatedBy: 1, CreatedDate: 06/18/2020 14:44:20, UpdatedDate: 06/18/2020 20:14:20, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: f11ade90-4537-42c2-b156-a5790bfd36e3, CreatedBy: 1, CreatedDate: 06/18/2020 14:44:00, UpdatedDate: 06/18/2020 20:14:00, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 0b270874-f91b-40e5-a22e-5ccc4ead9bea, CreatedBy: 1, CreatedDate: 06/18/2020 14:44:20, UpdatedDate: 06/18/2020 20:14:20, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: f11ade90-4537-42c2-b156-a5790bfd36e3, CreatedBy: 1, CreatedDate: 06/18/2020 14:44:00, UpdatedDate: 06/18/2020 20:14:00, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 0b270874-f91b-40e5-a22e-5ccc4ead9bea, CreatedBy: 1, CreatedDate: 06/18/2020 14:44:20, UpdatedDate: 06/18/2020 20:14:20, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: f11ade90-4537-42c2-b156-a5790bfd36e3, CreatedBy: 1, CreatedDate: 06/18/2020 14:44:00, UpdatedDate: 06/18/2020 20:14:00, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
20:14 [Error] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : Failed executing DbCommand ("17"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
20:14 [Error] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d02c3cb-37cc-4750-bfe9-b41d05092961
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
20:15 [Error] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:15 [Information] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : ----- Commit transaction c2d68f1a-34a4-4ecd-be69-b43c17cb0128 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:15 [Error] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : Failed executing DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
20:15 [Error] [c2d68f1a-34a4-4ecd-be69-b43c17cb0128] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (15).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1d02c3cb-37cc-4750-bfe9-b41d05092961
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
20:15 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 6f1489fc-2c62-4011-a08a-7042ac4b6eaf })
20:15 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"6f1489fc-2c62-4011-a08a-7042ac4b6eaf\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"933ac107-b77e-459c-aa25-0284bcbb56f6\",\"CreationDate\":\"2020-06-18T14:43:50.8696605Z\"}""
20:23 [Information] [] : ----- Handling integration event: e3ae17b6-032e-4ee2-a5ce-9ba8cbc938b7 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 95ff15cc-747d-4258-b2e1-d54a16ff76b6, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: e3ae17b6-032e-4ee2-a5ce-9ba8cbc938b7, CreationDate: 06/18/2020 14:53:49 })
20:23 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 95ff15cc-747d-4258-b2e1-d54a16ff76b6 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 95ff15cc-747d-4258-b2e1-d54a16ff76b6 })
20:23 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 95ff15cc-747d-4258-b2e1-d54a16ff76b6 })
20:23 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:23 [Information] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : ----- Begin transaction 4d85d44c-9a82-47af-aeeb-83280ff9c704 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 95ff15cc-747d-4258-b2e1-d54a16ff76b6 })
20:23 [Information] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:23 [Information] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:23 [Information] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : ----- Validating command "CreateOrderCommand"
20:23 [Information] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : ----- Enqueuing integration event 379b56f8-865a-4fea-924c-822650f549d8 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 379b56f8-865a-4fea-924c-822650f549d8, CreationDate: 06/18/2020 14:53:53 })
20:24 [Information] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 089f3c32-a1b2-44a8-8459-d4f9696d025d, CreatedBy: 1, CreatedDate: 06/18/2020 14:54:06, UpdatedDate: 06/18/2020 20:24:06, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 04aa68e6-f45e-47ce-b2de-9927cae741aa, CreatedBy: 1, CreatedDate: 06/18/2020 14:54:06, UpdatedDate: 06/18/2020 20:24:06, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 089f3c32-a1b2-44a8-8459-d4f9696d025d, CreatedBy: 1, CreatedDate: 06/18/2020 14:54:06, UpdatedDate: 06/18/2020 20:24:06, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 04aa68e6-f45e-47ce-b2de-9927cae741aa, CreatedBy: 1, CreatedDate: 06/18/2020 14:54:06, UpdatedDate: 06/18/2020 20:24:06, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 089f3c32-a1b2-44a8-8459-d4f9696d025d, CreatedBy: 1, CreatedDate: 06/18/2020 14:54:06, UpdatedDate: 06/18/2020 20:24:06, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 04aa68e6-f45e-47ce-b2de-9927cae741aa, CreatedBy: 1, CreatedDate: 06/18/2020 14:54:06, UpdatedDate: 06/18/2020 20:24:06, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
20:24 [Error] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : Failed executing DbCommand ("19"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
20:24 [Error] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_orders_orderstatus_OrderStatusId\". The conflict occurred in database \"OrderingContext\", table \"ordering.orderstatus\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b162f823-3125-4978-8f61-995b2366a2eb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
20:24 [Error] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:24 [Information] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : ----- Commit transaction 4d85d44c-9a82-47af-aeeb-83280ff9c704 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:24 [Error] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : Failed executing DbCommand ("17"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
20:24 [Error] [4d85d44c-9a82-47af-aeeb-83280ff9c704] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (16).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b162f823-3125-4978-8f61-995b2366a2eb
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
20:24 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 95ff15cc-747d-4258-b2e1-d54a16ff76b6 })
20:24 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"95ff15cc-747d-4258-b2e1-d54a16ff76b6\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"e3ae17b6-032e-4ee2-a5ce-9ba8cbc938b7\",\"CreationDate\":\"2020-06-18T14:53:49.157119Z\"}""
21:08 [Information] [] : Configuring web host ("MyShop.Orders")...
21:08 [Information] [] : RabbitMQ Client is trying to connect
21:08 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
21:08 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
21:11 [Information] [] : Configuring web host ("MyShop.Orders")...
21:11 [Information] [] : RabbitMQ Client is trying to connect
21:11 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
21:11 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
21:12 [Information] [] : ----- Handling integration event: 9a79076f-ba27-4823-8257-83dc8ca6c650 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: c3e30670-bead-4d30-8c71-bef023ccb5f9, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 9a79076f-ba27-4823-8257-83dc8ca6c650, CreationDate: 06/18/2020 15:42:05 })
21:12 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": c3e30670-bead-4d30-8c71-bef023ccb5f9 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c3e30670-bead-4d30-8c71-bef023ccb5f9 })
21:12 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
21:12 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
21:12 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
21:12 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
21:12 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c3e30670-bead-4d30-8c71-bef023ccb5f9 })
21:12 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:12 [Information] [a9a49554-8d2d-4454-9447-22f35feedbe4] : ----- Begin transaction a9a49554-8d2d-4454-9447-22f35feedbe4 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c3e30670-bead-4d30-8c71-bef023ccb5f9 })
21:12 [Information] [a9a49554-8d2d-4454-9447-22f35feedbe4] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:12 [Information] [a9a49554-8d2d-4454-9447-22f35feedbe4] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:12 [Information] [a9a49554-8d2d-4454-9447-22f35feedbe4] : ----- Validating command "CreateOrderCommand"
21:12 [Information] [a9a49554-8d2d-4454-9447-22f35feedbe4] : ----- Enqueuing integration event e70b08eb-97b3-42a3-a770-2c92ed6ee788 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: e70b08eb-97b3-42a3-a770-2c92ed6ee788, CreationDate: 06/18/2020 15:42:12 })
21:12 [Information] [a9a49554-8d2d-4454-9447-22f35feedbe4] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 329516a5-b801-4611-a32d-09f27f1b9bc7, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:14, UpdatedDate: 06/18/2020 21:12:14, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 6367a4af-a47d-4922-9788-dbedaf5d2fc0, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:14, UpdatedDate: 06/18/2020 21:12:14, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 329516a5-b801-4611-a32d-09f27f1b9bc7, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:14, UpdatedDate: 06/18/2020 21:12:14, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 6367a4af-a47d-4922-9788-dbedaf5d2fc0, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:14, UpdatedDate: 06/18/2020 21:12:14, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 329516a5-b801-4611-a32d-09f27f1b9bc7, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:14, UpdatedDate: 06/18/2020 21:12:14, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 6367a4af-a47d-4922-9788-dbedaf5d2fc0, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:14, UpdatedDate: 06/18/2020 21:12:14, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
21:12 [Error] [a9a49554-8d2d-4454-9447-22f35feedbe4] : Failed executing DbCommand ("24"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
21:12 [Error] [a9a49554-8d2d-4454-9447-22f35feedbe4] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderStatusId', table 'OrderingContext.ordering.orders'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:be7dc5a0-4bfd-48de-909d-b1bec1dae0fa
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
21:12 [Error] [a9a49554-8d2d-4454-9447-22f35feedbe4] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:12 [Information] [a9a49554-8d2d-4454-9447-22f35feedbe4] : ----- Commit transaction a9a49554-8d2d-4454-9447-22f35feedbe4 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:12 [Error] [a9a49554-8d2d-4454-9447-22f35feedbe4] : Failed executing DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
21:12 [Error] [a9a49554-8d2d-4454-9447-22f35feedbe4] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:be7dc5a0-4bfd-48de-909d-b1bec1dae0fa
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
21:12 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c3e30670-bead-4d30-8c71-bef023ccb5f9 })
21:12 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"c3e30670-bead-4d30-8c71-bef023ccb5f9\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"9a79076f-ba27-4823-8257-83dc8ca6c650\",\"CreationDate\":\"2020-06-18T15:42:05.4120762Z\"}""
21:12 [Information] [] : ----- Handling integration event: f07e05d1-8f93-45a3-ace0-5c269891010d at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: ade98b05-9c2c-4eb8-a184-bc13221d3626, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: f07e05d1-8f93-45a3-ace0-5c269891010d, CreationDate: 06/18/2020 15:42:40 })
21:12 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": ade98b05-9c2c-4eb8-a184-bc13221d3626 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ade98b05-9c2c-4eb8-a184-bc13221d3626 })
21:12 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ade98b05-9c2c-4eb8-a184-bc13221d3626 })
21:12 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:12 [Information] [8a9e64cf-8a83-4915-a137-a88a42708fea] : ----- Begin transaction 8a9e64cf-8a83-4915-a137-a88a42708fea for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ade98b05-9c2c-4eb8-a184-bc13221d3626 })
21:12 [Information] [8a9e64cf-8a83-4915-a137-a88a42708fea] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:12 [Information] [8a9e64cf-8a83-4915-a137-a88a42708fea] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:12 [Information] [8a9e64cf-8a83-4915-a137-a88a42708fea] : ----- Validating command "CreateOrderCommand"
21:12 [Information] [8a9e64cf-8a83-4915-a137-a88a42708fea] : ----- Enqueuing integration event 9c04a840-4f0d-47b2-9bb4-15cc41e2a63f to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 9c04a840-4f0d-47b2-9bb4-15cc41e2a63f, CreationDate: 06/18/2020 15:42:46 })
21:12 [Information] [8a9e64cf-8a83-4915-a137-a88a42708fea] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 58918a7b-30f0-4021-9a95-cab2acbf002b, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:46, UpdatedDate: 06/18/2020 21:12:46, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 296af407-288e-43d7-8653-9d024f77baf3, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:46, UpdatedDate: 06/18/2020 21:12:46, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 58918a7b-30f0-4021-9a95-cab2acbf002b, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:46, UpdatedDate: 06/18/2020 21:12:46, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 296af407-288e-43d7-8653-9d024f77baf3, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:46, UpdatedDate: 06/18/2020 21:12:46, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 58918a7b-30f0-4021-9a95-cab2acbf002b, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:46, UpdatedDate: 06/18/2020 21:12:46, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 296af407-288e-43d7-8653-9d024f77baf3, CreatedBy: 1, CreatedDate: 06/18/2020 15:42:46, UpdatedDate: 06/18/2020 21:12:46, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
21:13 [Error] [8a9e64cf-8a83-4915-a137-a88a42708fea] : Failed executing DbCommand ("20"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
21:13 [Error] [8a9e64cf-8a83-4915-a137-a88a42708fea] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderStatusId', table 'OrderingContext.ordering.orders'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:be7dc5a0-4bfd-48de-909d-b1bec1dae0fa
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
21:14 [Information] [] : Configuring web host ("MyShop.Orders")...
21:14 [Information] [] : RabbitMQ Client is trying to connect
21:14 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
21:14 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
21:14 [Information] [] : ----- Handling integration event: f07e05d1-8f93-45a3-ace0-5c269891010d at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: ade98b05-9c2c-4eb8-a184-bc13221d3626, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: f07e05d1-8f93-45a3-ace0-5c269891010d, CreationDate: 06/18/2020 15:42:40 })
21:14 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": ade98b05-9c2c-4eb8-a184-bc13221d3626 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ade98b05-9c2c-4eb8-a184-bc13221d3626 })
21:14 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
21:14 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
21:14 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
21:14 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
21:14 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ade98b05-9c2c-4eb8-a184-bc13221d3626 })
21:14 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:14 [Information] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : ----- Begin transaction 36a82c8c-034c-499a-b0e7-e0ed018f99f6 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ade98b05-9c2c-4eb8-a184-bc13221d3626 })
21:14 [Information] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:14 [Information] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:14 [Information] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : ----- Validating command "CreateOrderCommand"
21:14 [Information] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : ----- Enqueuing integration event b66744c9-fd5b-4e35-a5ae-c35f34eb0ee0 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: b66744c9-fd5b-4e35-a5ae-c35f34eb0ee0, CreationDate: 06/18/2020 15:44:45 })
21:14 [Information] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: d8f22f35-8f23-4cc2-a4af-699f8658f34e, CreatedBy: 1, CreatedDate: 06/18/2020 15:44:55, UpdatedDate: 06/18/2020 21:14:55, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: c4a305f4-d620-49f2-8a78-e1408d8bac4c, CreatedBy: 1, CreatedDate: 06/18/2020 15:44:47, UpdatedDate: 06/18/2020 21:14:47, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: d8f22f35-8f23-4cc2-a4af-699f8658f34e, CreatedBy: 1, CreatedDate: 06/18/2020 15:44:55, UpdatedDate: 06/18/2020 21:14:55, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: c4a305f4-d620-49f2-8a78-e1408d8bac4c, CreatedBy: 1, CreatedDate: 06/18/2020 15:44:47, UpdatedDate: 06/18/2020 21:14:47, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: d8f22f35-8f23-4cc2-a4af-699f8658f34e, CreatedBy: 1, CreatedDate: 06/18/2020 15:44:55, UpdatedDate: 06/18/2020 21:14:55, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: c4a305f4-d620-49f2-8a78-e1408d8bac4c, CreatedBy: 1, CreatedDate: 06/18/2020 15:44:47, UpdatedDate: 06/18/2020 21:14:47, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
21:16 [Error] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : Failed executing DbCommand ("25"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orders] ([Id], [BuyerId], [CreatedBy], [CreatedDate], [Description], [OrderStatusId], [PaymentMethodId], [UId], [UpdatedBy], [UpdatedDate], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
21:16 [Error] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'OrderStatusId', table 'OrderingContext.ordering.orders'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9b582cac-2d8e-4d53-8300-eceb1d66b92c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
21:16 [Error] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:16 [Information] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : ----- Commit transaction 36a82c8c-034c-499a-b0e7-e0ed018f99f6 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:16 [Error] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : Failed executing DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
21:16 [Error] [36a82c8c-034c-499a-b0e7-e0ed018f99f6] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (11).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9b582cac-2d8e-4d53-8300-eceb1d66b92c
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
21:16 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ade98b05-9c2c-4eb8-a184-bc13221d3626 })
21:16 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"ade98b05-9c2c-4eb8-a184-bc13221d3626\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"f07e05d1-8f93-45a3-ace0-5c269891010d\",\"CreationDate\":\"2020-06-18T15:42:40.2474815Z\"}""
21:20 [Information] [] : Configuring web host ("MyShop.Orders")...
21:20 [Information] [] : RabbitMQ Client is trying to connect
21:20 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
21:20 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
21:20 [Information] [] : ----- Handling integration event: 9417f02b-e3ce-4f22-9be9-9fc1cdbd9da6 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 36b33f75-a515-425a-b174-f52f72c1e397, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 9417f02b-e3ce-4f22-9be9-9fc1cdbd9da6, CreationDate: 06/18/2020 15:50:40 })
21:20 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 36b33f75-a515-425a-b174-f52f72c1e397 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 36b33f75-a515-425a-b174-f52f72c1e397 })
21:20 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
21:20 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
21:20 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
21:20 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
21:20 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 36b33f75-a515-425a-b174-f52f72c1e397 })
21:20 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:20 [Information] [ac8db933-a61c-4ded-b19a-3bbc44112fdb] : ----- Begin transaction ac8db933-a61c-4ded-b19a-3bbc44112fdb for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 36b33f75-a515-425a-b174-f52f72c1e397 })
21:20 [Information] [ac8db933-a61c-4ded-b19a-3bbc44112fdb] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:20 [Information] [ac8db933-a61c-4ded-b19a-3bbc44112fdb] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:20 [Information] [ac8db933-a61c-4ded-b19a-3bbc44112fdb] : ----- Validating command "CreateOrderCommand"
21:20 [Information] [ac8db933-a61c-4ded-b19a-3bbc44112fdb] : ----- Enqueuing integration event 239f2c60-ca35-4a41-9ca2-25fad2784d63 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 239f2c60-ca35-4a41-9ca2-25fad2784d63, CreationDate: 06/18/2020 15:50:47 })
21:20 [Information] [ac8db933-a61c-4ded-b19a-3bbc44112fdb] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: ddc7ed3c-3b39-4c49-bf9b-ff50996f3da3, CreatedBy: 1, CreatedDate: 06/18/2020 15:50:48, UpdatedDate: 06/18/2020 21:20:48, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 8aff987d-3858-454a-bdc1-98cec211dec5, CreatedBy: 1, CreatedDate: 06/18/2020 15:50:48, UpdatedDate: 06/18/2020 21:20:48, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: ddc7ed3c-3b39-4c49-bf9b-ff50996f3da3, CreatedBy: 1, CreatedDate: 06/18/2020 15:50:48, UpdatedDate: 06/18/2020 21:20:48, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 8aff987d-3858-454a-bdc1-98cec211dec5, CreatedBy: 1, CreatedDate: 06/18/2020 15:50:48, UpdatedDate: 06/18/2020 21:20:48, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: ddc7ed3c-3b39-4c49-bf9b-ff50996f3da3, CreatedBy: 1, CreatedDate: 06/18/2020 15:50:48, UpdatedDate: 06/18/2020 21:20:48, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 8aff987d-3858-454a-bdc1-98cec211dec5, CreatedBy: 1, CreatedDate: 06/18/2020 15:50:48, UpdatedDate: 06/18/2020 21:20:48, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
21:20 [Error] [ac8db933-a61c-4ded-b19a-3bbc44112fdb] : Failed executing DbCommand ("11"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p9='?' (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orderItems] ([Id], [CreatedBy], [CreatedDate], [Discount], [OrderId], [PictureUrl], [ProductId], [ProductName], [UId], [UnitPrice], [Units], [UpdatedBy], [UpdatedDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
21:20 [Error] [ac8db933-a61c-4ded-b19a-3bbc44112fdb] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ProductName', table 'OrderingContext.ordering.orderItems'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1e9a504a-989d-493c-b16d-2b833743fdf0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
21:22 [Information] [] : Configuring web host ("MyShop.Orders")...
21:22 [Information] [] : RabbitMQ Client is trying to connect
21:22 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
21:22 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
21:22 [Information] [] : ----- Handling integration event: 9417f02b-e3ce-4f22-9be9-9fc1cdbd9da6 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 36b33f75-a515-425a-b174-f52f72c1e397, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 9417f02b-e3ce-4f22-9be9-9fc1cdbd9da6, CreationDate: 06/18/2020 15:50:40 })
21:22 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 36b33f75-a515-425a-b174-f52f72c1e397 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 36b33f75-a515-425a-b174-f52f72c1e397 })
21:22 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
21:22 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
21:22 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
21:22 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
21:22 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 36b33f75-a515-425a-b174-f52f72c1e397 })
21:22 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:22 [Information] [470e47c1-547f-4844-93d0-1d2fe9d002db] : ----- Begin transaction 470e47c1-547f-4844-93d0-1d2fe9d002db for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 36b33f75-a515-425a-b174-f52f72c1e397 })
21:22 [Information] [470e47c1-547f-4844-93d0-1d2fe9d002db] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:22 [Information] [470e47c1-547f-4844-93d0-1d2fe9d002db] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:22 [Information] [470e47c1-547f-4844-93d0-1d2fe9d002db] : ----- Validating command "CreateOrderCommand"
21:22 [Information] [470e47c1-547f-4844-93d0-1d2fe9d002db] : ----- Enqueuing integration event 108db88b-49cc-45da-be49-0e60e6f3dedb to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 108db88b-49cc-45da-be49-0e60e6f3dedb, CreationDate: 06/18/2020 15:52:33 })
21:23 [Information] [470e47c1-547f-4844-93d0-1d2fe9d002db] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: 1, Id: 0, UId: a0be3c89-cec5-4ec6-a7ae-e9a3f8d5d89e, CreatedBy: 1, CreatedDate: 06/18/2020 15:53:13, UpdatedDate: 06/18/2020 21:23:13, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 769c4e55-9168-4d77-87b5-62c6d099267e, CreatedBy: 1, CreatedDate: 06/18/2020 15:52:34, UpdatedDate: 06/18/2020 21:22:34, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: 1, Id: 0, UId: a0be3c89-cec5-4ec6-a7ae-e9a3f8d5d89e, CreatedBy: 1, CreatedDate: 06/18/2020 15:53:13, UpdatedDate: 06/18/2020 21:23:13, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 769c4e55-9168-4d77-87b5-62c6d099267e, CreatedBy: 1, CreatedDate: 06/18/2020 15:52:34, UpdatedDate: 06/18/2020 21:22:34, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: 1, Id: 0, UId: a0be3c89-cec5-4ec6-a7ae-e9a3f8d5d89e, CreatedBy: 1, CreatedDate: 06/18/2020 15:53:13, UpdatedDate: 06/18/2020 21:23:13, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 769c4e55-9168-4d77-87b5-62c6d099267e, CreatedBy: 1, CreatedDate: 06/18/2020 15:52:34, UpdatedDate: 06/18/2020 21:22:34, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
21:23 [Error] [470e47c1-547f-4844-93d0-1d2fe9d002db] : Failed executing DbCommand ("25"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p9='?' (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orderItems] ([Id], [CreatedBy], [CreatedDate], [Discount], [OrderId], [PictureUrl], [ProductId], [ProductName], [UId], [UnitPrice], [Units], [UpdatedBy], [UpdatedDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
21:23 [Error] [470e47c1-547f-4844-93d0-1d2fe9d002db] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ProductName', table 'OrderingContext.ordering.orderItems'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cab65447-93ff-4183-9991-058e42b1d9cc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
21:24 [Error] [470e47c1-547f-4844-93d0-1d2fe9d002db] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:24 [Information] [470e47c1-547f-4844-93d0-1d2fe9d002db] : ----- Commit transaction 470e47c1-547f-4844-93d0-1d2fe9d002db for "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:24 [Error] [470e47c1-547f-4844-93d0-1d2fe9d002db] : Failed executing DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
21:24 [Error] [470e47c1-547f-4844-93d0-1d2fe9d002db] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (11).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cab65447-93ff-4183-9991-058e42b1d9cc
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
21:24 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 36b33f75-a515-425a-b174-f52f72c1e397 })
21:24 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"36b33f75-a515-425a-b174-f52f72c1e397\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"9417f02b-e3ce-4f22-9be9-9fc1cdbd9da6\",\"CreationDate\":\"2020-06-18T15:50:40.4544761Z\"}""
21:24 [Information] [] : ----- Handling integration event: 6969fd8b-9779-43b4-adbd-52384ef30e72 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: c853bea7-d1fe-4f8b-96da-556b12cd3fde, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 6969fd8b-9779-43b4-adbd-52384ef30e72, CreationDate: 06/18/2020 15:54:31 })
21:24 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": c853bea7-d1fe-4f8b-96da-556b12cd3fde (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c853bea7-d1fe-4f8b-96da-556b12cd3fde })
21:24 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c853bea7-d1fe-4f8b-96da-556b12cd3fde })
21:24 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:24 [Information] [f90ffe41-831a-483c-89db-03b686a0b7c4] : ----- Begin transaction f90ffe41-831a-483c-89db-03b686a0b7c4 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c853bea7-d1fe-4f8b-96da-556b12cd3fde })
21:24 [Information] [f90ffe41-831a-483c-89db-03b686a0b7c4] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:24 [Information] [f90ffe41-831a-483c-89db-03b686a0b7c4] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:24 [Information] [f90ffe41-831a-483c-89db-03b686a0b7c4] : ----- Validating command "CreateOrderCommand"
21:24 [Information] [f90ffe41-831a-483c-89db-03b686a0b7c4] : ----- Enqueuing integration event 1a97fc61-c6eb-4bef-9be1-a35d2ab9b2ac to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 1a97fc61-c6eb-4bef-9be1-a35d2ab9b2ac, CreationDate: 06/18/2020 15:54:35 })
21:25 [Information] [f90ffe41-831a-483c-89db-03b686a0b7c4] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: adf35af2-155a-4db1-9bc0-762d98d9390a, CreatedBy: 1, CreatedDate: 06/18/2020 15:54:39, UpdatedDate: 06/18/2020 21:24:39, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 3bbba7e2-b708-42d2-976e-34146a145401, CreatedBy: 1, CreatedDate: 06/18/2020 15:54:35, UpdatedDate: 06/18/2020 21:24:35, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: adf35af2-155a-4db1-9bc0-762d98d9390a, CreatedBy: 1, CreatedDate: 06/18/2020 15:54:39, UpdatedDate: 06/18/2020 21:24:39, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 3bbba7e2-b708-42d2-976e-34146a145401, CreatedBy: 1, CreatedDate: 06/18/2020 15:54:35, UpdatedDate: 06/18/2020 21:24:35, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: adf35af2-155a-4db1-9bc0-762d98d9390a, CreatedBy: 1, CreatedDate: 06/18/2020 15:54:39, UpdatedDate: 06/18/2020 21:24:39, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 3bbba7e2-b708-42d2-976e-34146a145401, CreatedBy: 1, CreatedDate: 06/18/2020 15:54:35, UpdatedDate: 06/18/2020 21:24:35, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
20:58 [Information] [] : Configuring web host ("MyShop.Orders")...
20:59 [Information] [] : RabbitMQ Client is trying to connect
20:59 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
20:59 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
20:59 [Information] [] : ----- Handling integration event: 6969fd8b-9779-43b4-adbd-52384ef30e72 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: c853bea7-d1fe-4f8b-96da-556b12cd3fde, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 6969fd8b-9779-43b4-adbd-52384ef30e72, CreationDate: 06/18/2020 15:54:31 })
20:59 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": c853bea7-d1fe-4f8b-96da-556b12cd3fde (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c853bea7-d1fe-4f8b-96da-556b12cd3fde })
20:59 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
20:59 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
20:59 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
20:59 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
20:59 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c853bea7-d1fe-4f8b-96da-556b12cd3fde })
20:59 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:59 [Information] [02c80ccb-30d2-4d41-87ba-ea10baded7c4] : ----- Begin transaction 02c80ccb-30d2-4d41-87ba-ea10baded7c4 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c853bea7-d1fe-4f8b-96da-556b12cd3fde })
20:59 [Information] [02c80ccb-30d2-4d41-87ba-ea10baded7c4] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:59 [Information] [02c80ccb-30d2-4d41-87ba-ea10baded7c4] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:59 [Information] [02c80ccb-30d2-4d41-87ba-ea10baded7c4] : ----- Validating command "CreateOrderCommand"
20:59 [Information] [02c80ccb-30d2-4d41-87ba-ea10baded7c4] : ----- Enqueuing integration event af76b9e6-b3e7-4cd8-a6ea-0b640e044c79 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: af76b9e6-b3e7-4cd8-a6ea-0b640e044c79, CreationDate: 06/19/2020 15:29:32 })
20:59 [Error] [02c80ccb-30d2-4d41-87ba-ea10baded7c4] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
20:59 [Information] [02c80ccb-30d2-4d41-87ba-ea10baded7c4] : ----- Commit transaction 02c80ccb-30d2-4d41-87ba-ea10baded7c4 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
20:59 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: c853bea7-d1fe-4f8b-96da-556b12cd3fde })
20:59 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"c853bea7-d1fe-4f8b-96da-556b12cd3fde\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"6969fd8b-9779-43b4-adbd-52384ef30e72\",\"CreationDate\":\"2020-06-18T15:54:31.1175029Z\"}""
21:02 [Information] [] : Configuring web host ("MyShop.Orders")...
21:02 [Information] [] : RabbitMQ Client is trying to connect
21:02 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
21:02 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
21:04 [Information] [] : ----- Handling integration event: 8276246a-d12a-49bd-8c8c-22f99cfeb9b5 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: ef673b7c-9a79-4b65-882b-b303e85fff97, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 8276246a-d12a-49bd-8c8c-22f99cfeb9b5, CreationDate: 06/19/2020 15:34:39 })
21:04 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": ef673b7c-9a79-4b65-882b-b303e85fff97 (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ef673b7c-9a79-4b65-882b-b303e85fff97 })
21:04 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
21:04 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
21:04 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
21:04 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
21:04 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ef673b7c-9a79-4b65-882b-b303e85fff97 })
21:04 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:04 [Information] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : ----- Begin transaction dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ef673b7c-9a79-4b65-882b-b303e85fff97 })
21:04 [Information] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:04 [Information] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:04 [Information] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : ----- Validating command "CreateOrderCommand"
21:04 [Information] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : ----- Enqueuing integration event 7a3bb24c-0e6f-400b-b691-1f4a3f183c8e to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 7a3bb24c-0e6f-400b-b691-1f4a3f183c8e, CreationDate: 06/19/2020 15:34:46 })
21:04 [Information] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: e50a1d75-d953-4345-9504-591a7681edb6, CreatedBy: 1, CreatedDate: 06/19/2020 15:34:46, UpdatedDate: 06/19/2020 21:04:46, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 05ba8453-2efe-43b0-abf3-2eab204cfeaf, CreatedBy: 1, CreatedDate: 06/19/2020 15:34:46, UpdatedDate: 06/19/2020 21:04:46, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: e50a1d75-d953-4345-9504-591a7681edb6, CreatedBy: 1, CreatedDate: 06/19/2020 15:34:46, UpdatedDate: 06/19/2020 21:04:46, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 05ba8453-2efe-43b0-abf3-2eab204cfeaf, CreatedBy: 1, CreatedDate: 06/19/2020 15:34:46, UpdatedDate: 06/19/2020 21:04:46, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: e50a1d75-d953-4345-9504-591a7681edb6, CreatedBy: 1, CreatedDate: 06/19/2020 15:34:46, UpdatedDate: 06/19/2020 21:04:46, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 05ba8453-2efe-43b0-abf3-2eab204cfeaf, CreatedBy: 1, CreatedDate: 06/19/2020 15:34:46, UpdatedDate: 06/19/2020 21:04:46, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
21:04 [Error] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : Failed executing DbCommand ("16"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p9='?' (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orderItems] ([Id], [CreatedBy], [CreatedDate], [Discount], [OrderId], [PictureUrl], [ProductId], [ProductName], [UId], [UnitPrice], [Units], [UpdatedBy], [UpdatedDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
21:04 [Error] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ProductName', table 'OrderingContext.ordering.orderItems'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ad51833d-1d55-4c65-9a3a-a629ca30c2ad
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
21:05 [Error] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:05 [Information] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : ----- Commit transaction dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:05 [Error] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : Failed executing DbCommand ("70"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
21:05 [Error] [dd2ff4f5-3865-4ae4-8de7-33f8b0cc0739] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ad51833d-1d55-4c65-9a3a-a629ca30c2ad
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
21:05 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: ef673b7c-9a79-4b65-882b-b303e85fff97 })
21:05 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"ef673b7c-9a79-4b65-882b-b303e85fff97\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"8276246a-d12a-49bd-8c8c-22f99cfeb9b5\",\"CreationDate\":\"2020-06-19T15:34:39.1169944Z\"}""
21:07 [Information] [] : ----- Handling integration event: 5534af38-d97d-4343-aedf-7ef6857ab945 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 12f955db-1f79-41fe-8aa3-8893abf2a06a, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 5534af38-d97d-4343-aedf-7ef6857ab945, CreationDate: 06/19/2020 15:36:13 })
21:07 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 12f955db-1f79-41fe-8aa3-8893abf2a06a (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 12f955db-1f79-41fe-8aa3-8893abf2a06a })
21:07 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 12f955db-1f79-41fe-8aa3-8893abf2a06a })
21:07 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
21:07 [Information] [ce0e57e8-f6c9-416b-9bae-d36fcf54ed39] : ----- Begin transaction ce0e57e8-f6c9-416b-9bae-d36fcf54ed39 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 12f955db-1f79-41fe-8aa3-8893abf2a06a })
21:07 [Information] [ce0e57e8-f6c9-416b-9bae-d36fcf54ed39] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:07 [Information] [ce0e57e8-f6c9-416b-9bae-d36fcf54ed39] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
21:07 [Information] [ce0e57e8-f6c9-416b-9bae-d36fcf54ed39] : ----- Validating command "CreateOrderCommand"
21:07 [Information] [ce0e57e8-f6c9-416b-9bae-d36fcf54ed39] : ----- Enqueuing integration event 3a1d8338-5dc5-4b0c-aa9d-82c8ab4efd42 to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: 3a1d8338-5dc5-4b0c-aa9d-82c8ab4efd42, CreationDate: 06/19/2020 15:37:15 })
21:07 [Information] [ce0e57e8-f6c9-416b-9bae-d36fcf54ed39] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 55ed5397-1a1a-4a67-a6ba-169ec3f64b91, CreatedBy: 1, CreatedDate: 06/19/2020 15:37:16, UpdatedDate: 06/19/2020 21:07:16, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 90512273-62bf-49a8-ab0a-04c5bcbd550c, CreatedBy: 1, CreatedDate: 06/19/2020 15:37:16, UpdatedDate: 06/19/2020 21:07:16, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 55ed5397-1a1a-4a67-a6ba-169ec3f64b91, CreatedBy: 1, CreatedDate: 06/19/2020 15:37:16, UpdatedDate: 06/19/2020 21:07:16, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 90512273-62bf-49a8-ab0a-04c5bcbd550c, CreatedBy: 1, CreatedDate: 06/19/2020 15:37:16, UpdatedDate: 06/19/2020 21:07:16, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 55ed5397-1a1a-4a67-a6ba-169ec3f64b91, CreatedBy: 1, CreatedDate: 06/19/2020 15:37:16, UpdatedDate: 06/19/2020 21:07:16, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 90512273-62bf-49a8-ab0a-04c5bcbd550c, CreatedBy: 1, CreatedDate: 06/19/2020 15:37:16, UpdatedDate: 06/19/2020 21:07:16, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
21:08 [Error] [ce0e57e8-f6c9-416b-9bae-d36fcf54ed39] : Failed executing DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p9='?' (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orderItems] ([Id], [CreatedBy], [CreatedDate], [Discount], [OrderId], [PictureUrl], [ProductId], [ProductName], [UId], [UnitPrice], [Units], [UpdatedBy], [UpdatedDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
21:08 [Error] [ce0e57e8-f6c9-416b-9bae-d36fcf54ed39] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ProductName', table 'OrderingContext.ordering.orderItems'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ad51833d-1d55-4c65-9a3a-a629ca30c2ad
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
12:00 [Information] [] : Configuring web host ("MyShop.Orders")...
12:00 [Information] [] : RabbitMQ Client is trying to connect
12:00 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
12:00 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
12:00 [Information] [] : ----- Handling integration event: 5534af38-d97d-4343-aedf-7ef6857ab945 at "MyShop.Orders" - (UserCheckoutAcceptedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, Buyer: null, RequestId: 12f955db-1f79-41fe-8aa3-8893abf2a06a, BasketItems: [BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }, BasketItem { Id: "", ProductId: "00000000-0000-0000-0000-000000000000", ProductName: "T-Shirt", UnitPrice: 455.5, OldUnitPrice: 0.0, Quantity: 1, PictureUrl: "test" }], Id: 5534af38-d97d-4343-aedf-7ef6857ab945, CreationDate: 06/19/2020 15:36:13 })
12:00 [Information] [] : ----- Sending command: "IdentifiedCommand<CreateOrderCommand,Boolean>" - "Id": 12f955db-1f79-41fe-8aa3-8893abf2a06a (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 12f955db-1f79-41fe-8aa3-8893abf2a06a })
12:00 [Warning] [] : Property '"Id"' on entity type '"CardType"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
12:00 [Warning] [] : Property '"Id"' on entity type '"OrderStatus"' is part of a primary or alternate key but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
12:00 [Warning] [] : No type was specified for the decimal column '"Discount"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
12:00 [Warning] [] : No type was specified for the decimal column '"UnitPrice"' on entity type '"OrderItem"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
12:00 [Information] [] : <-----> Handling command "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 12f955db-1f79-41fe-8aa3-8893abf2a06a })
12:00 [Information] [] : ----- Validating command "IdentifiedCommand<CreateOrderCommand,Boolean>"
12:00 [Information] [52abd827-b49a-42c2-b4ac-be9834c13910] : ----- Begin transaction 52abd827-b49a-42c2-b4ac-be9834c13910 for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 12f955db-1f79-41fe-8aa3-8893abf2a06a })
12:00 [Information] [52abd827-b49a-42c2-b4ac-be9834c13910] : ----- Sending command: "CreateOrderCommand" - "UserId": "7232180d-dfc4-4176-ad8e-e740590fad0b" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
12:00 [Information] [52abd827-b49a-42c2-b4ac-be9834c13910] : <-----> Handling command "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
12:00 [Information] [52abd827-b49a-42c2-b4ac-be9834c13910] : ----- Validating command "CreateOrderCommand"
12:00 [Information] [52abd827-b49a-42c2-b4ac-be9834c13910] : ----- Enqueuing integration event cb16d799-d748-43d4-b6ea-13a995ce0c4a to repository (OrderStartedIntegrationEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", Id: cb16d799-d748-43d4-b6ea-13a995ce0c4a, CreationDate: 06/20/2020 06:30:53 })
12:00 [Information] [52abd827-b49a-42c2-b4ac-be9834c13910] : ----- Creating Order - Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 9914607a-04ce-4518-9014-c1c54bcf30ca, CreatedBy: 1, CreatedDate: 06/20/2020 06:30:54, UpdatedDate: 06/20/2020 12:00:54, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 70e50cc1-cee8-4661-a0b9-ed26796f46bb, CreatedBy: 1, CreatedDate: 06/20/2020 06:30:54, UpdatedDate: 06/20/2020 12:00:54, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 9914607a-04ce-4518-9014-c1c54bcf30ca, CreatedBy: 1, CreatedDate: 06/20/2020 06:30:54, UpdatedDate: 06/20/2020 12:00:54, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 70e50cc1-cee8-4661-a0b9-ed26796f46bb, CreatedBy: 1, CreatedDate: 06/20/2020 06:30:54, UpdatedDate: 06/20/2020 12:00:54, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: Address { Street: "TSHYS-67", City: "Bhubaneswar", State: "Orissa", Country: "India", ZipCode: "678292" }, GetBuyerId: null, OrderStatus: null, OrderItems: [OrderItem { ProductId: -1, Id: 0, UId: 9914607a-04ce-4518-9014-c1c54bcf30ca, CreatedBy: 1, CreatedDate: 06/20/2020 06:30:54, UpdatedDate: 06/20/2020 12:00:54, UpdatedBy: 0, DomainEvents: null }], Id: 0, UId: 70e50cc1-cee8-4661-a0b9-ed26796f46bb, CreatedBy: 1, CreatedDate: 06/20/2020 06:30:54, UpdatedDate: 06/20/2020 12:00:54, UpdatedBy: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", CardTypeId: 1, CardNumber: "28932903233984739", CardSecurityNumber: "768", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, Order: Order { Address: null, GetBuyerId: null, OrderStatus: null, OrderItems: null, Id: null, UId: null, CreatedBy: null, CreatedDate: null, UpdatedDate: null, UpdatedBy: null, DomainEvents: null } }] } }] } }] }
12:00 [Error] [52abd827-b49a-42c2-b4ac-be9834c13910] : Failed executing DbCommand ("10"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p9='?' (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[orderItems] ([Id], [CreatedBy], [CreatedDate], [Discount], [OrderId], [PictureUrl], [ProductId], [ProductName], [UId], [UnitPrice], [Units], [UpdatedBy], [UpdatedDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
12:00 [Error] [52abd827-b49a-42c2-b4ac-be9834c13910] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ProductName', table 'OrderingContext.ordering.orderItems'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ca93463f-b93d-44c8-9b4b-d2df3952dc81
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
12:00 [Error] [52abd827-b49a-42c2-b4ac-be9834c13910] : ERROR Handling transaction for "CreateOrderCommand" (CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] })
12:00 [Information] [52abd827-b49a-42c2-b4ac-be9834c13910] : ----- Commit transaction 52abd827-b49a-42c2-b4ac-be9834c13910 for "IdentifiedCommand<CreateOrderCommand,Boolean>"
12:00 [Error] [52abd827-b49a-42c2-b4ac-be9834c13910] : Failed executing DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ordering].[buyers] ([Id], [CreatedBy], [CreatedDate], [Name], [UId], [UpdatedBy], [UpdatedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);"
12:00 [Error] [52abd827-b49a-42c2-b4ac-be9834c13910] : An exception occurred in the database while saving changes for context type '"MyShop.Orders.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_buyers'. Cannot insert duplicate key in object 'ordering.buyers'. The duplicate key value is (11).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ca93463f-b93d-44c8-9b4b-d2df3952dc81
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
12:00 [Error] [] : ERROR Handling transaction for "IdentifiedCommand<CreateOrderCommand,Boolean>" (IdentifiedCommand`2 { Command: CreateOrderCommand { UserId: "7232180d-dfc4-4176-ad8e-e740590fad0b", UserName: "ashish.mahapatra02@gmail.com", City: "Bhubaneswar", Street: "TSHYS-67", State: "Orissa", Country: "India", ZipCode: "678292", CardNumber: "28932903233984739", CardHolderName: "Ashis Mahapatra", CardExpiration: 09/11/2020 18:30:00, CardSecurityNumber: "768", CardTypeId: 1, OrderItems: [OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }, OrderItemDTO { ProductId: -1, ProductName: "T-Shirt", UnitPrice: 455.5, Discount: 0, Units: 1, PictureUrl: "test" }] }, Id: 12f955db-1f79-41fe-8aa3-8893abf2a06a })
12:00 [Warning] [] : ----- ERROR Processing message ""{\"UserId\":\"7232180d-dfc4-4176-ad8e-e740590fad0b\",\"UserName\":\"ashish.mahapatra02@gmail.com\",\"OrderNumber\":0,\"City\":\"Bhubaneswar\",\"Street\":\"TSHYS-67\",\"State\":\"Orissa\",\"Country\":\"India\",\"ZipCode\":\"678292\",\"CardNumber\":\"28932903233984739\",\"CardHolderName\":\"Ashis Mahapatra\",\"CardExpiration\":\"2020-09-11T18:30:00Z\",\"CardSecurityNumber\":\"768\",\"CardTypeId\":1,\"Buyer\":null,\"RequestId\":\"12f955db-1f79-41fe-8aa3-8893abf2a06a\",\"BasketItems\":[{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.amazon.in%2FGraphic-Printed-T-Shirt-Sleeve-Unicorn%2Fdp%2FB07H9RMY76&psig=AOvVaw0wyw5HjVTg9rZBG1O1z8Zi&ust=1592217242765000&source=images&cd=vfe&ved=0CAIQjRxqFwoTCLDF9cqNgeoCFQAAAAAdAAAAABAI\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"},{\"Id\":\"\",\"ProductId\":\"00000000-0000-0000-0000-000000000000\",\"ProductName\":\"T-Shirt\",\"UnitPrice\":455.5,\"OldUnitPrice\":0.0,\"Quantity\":1,\"PictureUrl\":\"test\"}],\"Id\":\"5534af38-d97d-4343-aedf-7ef6857ab945\",\"CreationDate\":\"2020-06-19T15:36:13.2918253Z\"}""
12:06 [Information] [] : Configuring web host ("MyShop.Orders")...
12:06 [Information] [] : RabbitMQ Client is trying to connect
12:06 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
12:06 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
12:07 [Information] [] : Configuring web host ("MyShop.Orders")...
12:07 [Information] [] : RabbitMQ Client is trying to connect
12:07 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
12:07 [Information] [] : Subscribing to event "UserCheckoutAcceptedIntegrationEvent" with "UserCheckoutAcceptedIntegrationEventHandler"
15:44 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
15:44 [Information] [] : RabbitMQ Client is trying to connect
15:44 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
16:18 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
16:18 [Information] [] : RabbitMQ Client is trying to connect
16:18 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
16:18 [Information] [] : RabbitMQ Client is trying to connect
16:18 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
16:18 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
17:13 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
17:13 [Information] [] : RabbitMQ Client is trying to connect
17:13 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
17:13 [Information] [] : RabbitMQ Client is trying to connect
17:13 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
17:13 [Information] [] : RabbitMQ Client is trying to connect
17:13 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
17:13 [Warning] [] : A RabbitMQ connection is on shutdown. Trying to re-connect...
17:13 [Information] [] : RabbitMQ Client is trying to connect
17:13 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
17:13 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
17:13 [Information] [] : RabbitMQ Client acquired a persistent connection to '"localhost"' and is subscribed to failure events
